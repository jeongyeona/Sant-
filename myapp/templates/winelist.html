<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
	crossorigin="anonymous"></script>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT"
	crossorigin="anonymous">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<title>Document</title>
</head>
<!-- wine list css -->
<style>
#wineListback {
	background-color: #F9F1DF;
}

#wineListgrape {
	width: 100%;
	height : 400px;
}

#winelistgrapebox {
	margin: 20px 0px;
}

.col-sm-8 {
	display: flex;
}

li {
	list-style: none;
}

#wineListBox_ul {
	padding-left: 0;
	display: flex;
	width: 100%;
	justify-content: space-between;
	flex-wrap: wrap;
}

#wineListBox_li {
	background-color: #F9F1DF;
	width: 30%;
	flex-direction: column;
	margin-top: 40px;
	text-decoration: none;
	color: black;
}

#listwinetest {
	width: 100%;
}

#winelistimg svg {
	display: none
}

#wineListBox_div:hover {
	filter: brightness(75%);
}

#winelistimg {
	box-shadow: 0 0 1em white;
	width: 100%
}

#wineListBoxInf {
	padding-left: 0;
	margin-top: 10px;
}

#wineListBoxInf li {
	display: flex;
	justify-content: flex-start;
	margin-left: 10px;
	text-decoration: none;
}

#winenameKo, #winenameEn {
	font-size: 1.2rem;
	width: 90%;
	overflow: scroll;
	-ms-overflow-style: none;
	white-space: nowrap;
}

#winenameKo::-webkit-scrollbar, #winenameEn::-webkit-scrollbar {
	display: none;
}

#listfilterBox {
	background-color: white;
	margin-top: 40px;
}

#wineType {
	margin-left: 5px;
}

#listfiltertypes {
	width: 100%;
}

#listfiltertypebutton input {
	margin-top: 10px;
	width: 30%;
	border-radius: 20px;
}

#listfiltercountry {
	width: 100%;
}

#listfiltercountrybutton input {
	margin-top: 10px;
	border-radius: 14px;
}

#listfilterpriceheaderno {
	display: flex;
	width: 100%;
}

#waa1239, #listfilterpriceheaderno {
	display: flex;
	justify-content: start;
	margin-left: 10px;
}


/* 페이지 링크 */
.page-link{
	background-color: #F9F1DF;
	border : none;
	color : black;
}
#page-form{
	background-color: #F9F1DF;
	border : none;
	color : black;
}
.pagination{
	--bs-pagination-disabled-bg : #F9F1DF;
	margin-left: 200px;
	margin-top : 50px;
}
/* nav css */
#mainLogo_img {
	width: 200px;
	margin-left: 20px;
	color: black;
}

#mainbox {
	width: 100%;
	display: flex;
	justify-content: center;
}

#main_backcolor {
	height: 100%;
	margin: 20px;
	background: linear-gradient(90deg, #7E181A 50%, #F9F1DF 50%);
}

#mainPage_img {
	max-width: 70%;
}

.anhsdjw123 {
	float: right;
	margin-bottom: 50;
}

#slidebtn {
	background-color: #F9F1DF;
	border-color: #F9F1DF;
	color: black;
	font-weight: 700;
}

#slidebtn.hover {
	background-color: #F9F1DF;
	border-color: #F9F1DF;
	color: black;
	font-weight: 700;
}

#navIconColor {
	color: black;
}

#loginlogo {
	width: 200px;
}

.loginImgBox {
	display: flex;
	justify-content: center;
	margin: 50px 0px;
}

#Userid, #Username, #Userpwd, #Userpwdok, #Useremail, #signupBtn,
	#signupBtna, #loginMainForm {
	border-radius: 5px;
	border: solid 3px #7E181A;
	box-shadow: none;
}

.btn-close:focus {
	box-shadow: none;
}

.form-control {
	height: 45px;
	font-size: 16px;
}

#signupBtn, #signupBtna {
	width: 100%;
	height: 50px;
	background-color: #7E181A;;
	color: white;
	font-size: 16px;
}
#slidebtn{
	margin-right: 19px;
}

#mainSignForgot, #mainSignForgotProfile {
	text-decoration: none;
	color: black;
}

#mainSignForgotProfile {
	display: flex;
	justify-content: end;
	width: 100%;
}

#mainLink {
	display: flex;
	justify-content: space-between;
	opacity: 0.6;
	width: 100%;
}

.offcanvas {
	border-top-left-radius: 15px;
}

#proflieImg {
	width: 150px;
	margin: 100px 0px;
}

.proflieImgBox {
	display: flex;
	justify-content: center;
	width: 100%;
}
#listBtn{
	background-color: #F9F1DF;
	border-color: #F9F1DF;
	color: black;
	font-weight: 700;
	float: right;
	margin-bottom: 50;
}
#nav3{
	margin-top : 20px;
}

</style>
<body id="wineListback">
<nav id="nav3">
	<a href="/">
		<img src="static/images/bysante.png" alt="logoimg" id="mainLogo_img">
	</a>
	
	{% if request.session.WineUser %}
	<!-- 프로필 폼 -->

	<div class=anhsdjw123>
		<button id="slidebtn" class="btn btn-primary" type="button"
			data-bs-toggle="offcanvas" data-bs-target="#userprofile"
			aria-controls="offcanvasRight">PROFILE</button>
		<div class="offcanvas offcanvas-end" tabindex="-1" id="userprofile"
			aria-labelledby="offcanvasRightLabel">
			<div class="offcanvas-header">
				<button type="button" class="btn-close"
					data-bs-dismiss="offcanvas" aria-label="Close"></button>
			</div>
			<div class="loginImgBox">
				<img src="static/images/profilelogo.png" alt="loginlogo" id="loginlogo">
			</div>
			<div class="proflieImgBox">
				<img src="static/images/proflieimg.png" alt="proflieimg" id="proflieImg">
			</div>

			<div class="offcanvas-body">
				<div id="mainLink" class="mt-3">
					<a href="addinfo" id="mainSignForgotProfile">ADD INFORMATION</a>
				</div>
				<form action="logout" method="post" autocomplete="off"> {% csrf_token %}
					<!-- 로그 아웃시 연결 views 연결 만들기 -->
					<br />
					<input type="submit" id="signupBtna" value="LOG OUT" />
				</form>
			</div>
		</div>
	</div>
	{% else %}
	<!-- 로그인 폼 -->
	<div class=anhsdjw123>
		<button id="slidebtn" class="btn btn-primary" type="button"
			data-bs-toggle="offcanvas" data-bs-target="#logintarget"
			aria-controls="offcanvasRight">LOGIN</button>
		<div class="offcanvas offcanvas-end" tabindex="-1" id="logintarget"
			aria-labelledby="offcanvasRightLabel">
			<div class="offcanvas-header">
				<button type="button" class="btn-close"
					data-bs-dismiss="offcanvas" aria-label="Close"></button>
			</div>
			<div class="loginImgBox">
				<img src="static/images/loginimg.png" alt="loginlogo" id="loginlogo">
			</div>

			<div class="offcanvas-body">
				<form action="loginok" method="post" autocomplete="off" id="loginform"> {% csrf_token %}
					<div class="mb-1">
						<input class="form-control " type="text" placeholder="ID"
							name="lo_id" id="loginMainForm" />
					</div>
					<br />
					<div class="mb-1">
						<input class="form-control " type="password"
							placeholder="PASSWORD" name="lo_pwd" id="loginpasswordForm" />
					</div>
					<br /> <input type="submit" id="signupBtna" value="SIGN IN" />
				</form>
				<div id="mainLink" class="mt-3">
					<a id="mainSignForgot" type="button" data-bs-toggle="offcanvas"
                          data-bs-target="#newuserlogin">SIGN UP</a> <a href="pwdok"
                          id="mainSignForgot">FORGOT PASSWORD
                       </a>
				</div>
			</div>
		</div>
	</div>
	{% endif %}
	
	<button id="listBtn" type="button" class="btn btn-primary" onClick="location.href='winelist'">LIST</button>
	
	<!-- 회원가입 폼  -->
	<div class=anhsdjw123>
		<div class="offcanvas offcanvas-end" tabindex="-1"
			id="newuserlogin" aria-labelledby="offcanvasRightLabel">

			<div class="offcanvas-header">
				<button type="button" class="btn-close"
					data-bs-dismiss="offcanvas" aria-label="Close"></button>
			</div>
			<div class="loginImgBox">
				<img src="static/images/loginimg.png" alt="loginlogo" id="loginlogo">
			</div>

			<div class="offcanvas-body">
				<form action="signupok" method="post" id="signupForm"
					autocomplete="off"> {% csrf_token %}
					<div class="mb-2">
						<input class="form-control " type="text" placeholder="NICKNAME"
							name="User_name" id="Username" />
						<div class="invalid-feedback">닉네임은 한글, 영문, 숫자만 가능하며
							2-10자리 가능합니다.</div>
					</div>
					<br />
					<div class="mb-2">
						<input class="form-control " type="text" placeholder="ID"
							name="User_id" id="Userid" />
						<div class="invalid-feedback">사용할 수 없는 아이디 입니다.()</div>
					</div>
					<br />
					<div class="mb-2">
						<input class="form-control " type="password"
							placeholder="PASSWORD" name="User_pwd" id="Userpwd" />
						<div class="invalid-feedback">최소 하나의 영문자,숫자,특수문자가 들어가고
							8글자~13글자 이내로 입력해주세요.</div>
					</div>
					<br />
					<div class="mb-2">
						<input class="form-control " type="password"
							placeholder="RE PASSWORD" name="User_pwdok" id="Userpwdok" />
						<div class="invalid-feedback">비밀 번호가 일치하지 않습니다.</div>
					</div>
					<br />
					<div class="mb-2">
						<input class="form-control " type="text" placeholder="E_MAIL"
							name="User_email" id="Useremail" />
						<div class="invalid-feedback">이메일 형식에 맞게 입력하세요.</div>
					</div>
					<br> <input type="submit" id="signupBtn" value="SIGN UP" />
				</form>
			</div>
		</div>
	</div>
</nav>
	<div id="winelistgrapebox">
		<img src="static/images/wine3.png" alt="로고이미지입니다."
			id="wineListgrape">
	</div>
	<main>
		<div class="container text-center">
			<div class="row">
				<div class="col-sm-4">
					<div id="listfilterBox">
						<!-- 검색 기능 -->
						<form action="winelist" name="starform" method="get">
							<h4 id="waa1239">와인 검색</h4>
							<input type="text" placeholder="Search" id="wineSearch" onkeyup="search(this)" name="search_key">
							<input type="submit" id="searchBtn" value="검색" />
						</form>
						<div id="listfiltertypes">
							<h4 id="waa1239">Wine Types</h4>
							<form id="listfiltertypebutton">
								<input type="button" value="레드" name="red">
								<input type="button" value="화이트" name="white">
								<input type="button" value="스파클링" name="sparkling">
							</form>
							<form id="listfiltertypebutton">
								<input type="button" value="로제" name="rose"> <input
									type="button" value="주정강화" name="fort"> <input
									type="button" value="기타" name="exception">
							</form>
						</div>
						<!-- 너무 어려움 마지막에 할 예정 -->
						<div id="listfilterprice">
							<div id="listfilterpriceheader">
								<div id="listfilterpriceheaderno">
									<h4>Price Range</h4>
									<input type="checkbox">
									<h4>가격정보 없음</h4>
								</div>
								<form>
									<!-- <input type="range"> -->
								</form>
							</div>
						</div>
						<div id="listfiltercountry">
							<form id="listfiltercountrybutton">
								<input type="button" value="프랑스" name="france"> <input
									type="button" value="이탈리아" name="italy"> <input
									type="button" value="스페인" name="spain"> <input
									type="button" value="포르투갈" name="Portugal"> <input
									type="button" value="미국" name="usa">
							</form>
							<form id="listfiltercountrybutton">
								<input type="button" value="아르헨티나" name="argentina"> <input
									type="button" value="뉴질랜드" name="NewZealand"> <input
									type="button" value="독일" name="Germany"> <input
									type="button" value="호주" name="australia"> <input
									type="button" value="칠레" name="Chile">
							</form>
							<form id="listfiltercountrybutton">
								<input type="button" value="남아프리카 공화국"
									name="RepublicofSouthAfrica"> <input type="button"
									value="기타국가" name="otherCountries">
							</form>
						</div>
					</div>
				</div>
				<!-- 와인 리스트 출력 -->
				<div class="col-sm-8">
					<ul id="wineListBox_ul">
						{% for w in question_list %}
						<a id="wineListBox_li" href="winedetail?wineid={{w.id}}">
							<div id="wineListBox_div">
								<div id="winelistimg">
									<!-- 와인 종류에 맞게 뒷 배경색 바꿀까? 참고 wine 1987 -->
									<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
										fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
										<path
											d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z" /></svg>

									<img src="{{w.url}}" id="listwinetest">
								</div>
							</div> 
							<ul id="wineListBoxInf">
								<li id="winenameKo">{{w.name_kr}}</li>
								<li id="winenameEn">{{w.name_en}}</li>
								<br>
								<li id="wineRegion">{{rs}}</li>
								<li id="wineType">{{w.type}}</li> {% if w.price == 0 %}
								<li id="winePrice">가격정보 없음</</li> {% else %}
								<li id="winePrice">{{w.price}}</</li> {% endif %}
								<!-- 별점 코드(나중에 상세페이지로), 여기는 예상별점 -->
								<li></li>
							</ul>
						</a> 
						{% endfor %}
					</ul>
				</div>
				<tr>
					<!-- 페이징처리 시작 -->
				    <ul class="pagination justify-content-center">
				        <!-- 이전페이지 -->
				        {% if question_list.has_previous %}
				        <li class="page-item" id="page-form">
				            <a class="page-link" href="?{{sk}}{{search_key}}&page={{ question_list.previous_page_number }}">
				            	<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-left" viewBox="0 0 16 16">
							    <path d="M10 12.796V3.204L4.519 8 10 12.796zm-.659.753-5.48-4.796a1 1 0 0 1 0-1.506l5.48-4.796A1 1 0 0 1 11 3.204v9.592a1 1 0 0 1-1.659.753z"/>
							    </svg>
							</a>
						</li>
						{% else %}
				        <li class="page-item disabled" id="page-form">
				            <a class="page-link" tabindex="-1" aria-disabled="true" href="#">
								<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-left" viewBox="0 0 16 16">
							    <path d="M10 12.796V3.204L4.519 8 10 12.796zm-.659.753-5.48-4.796a1 1 0 0 1 0-1.506l5.48-4.796A1 1 0 0 1 11 3.204v9.592a1 1 0 0 1-1.659.753z"/>
							    </svg>
							</a>
				        </li>
				        {% endif %}
				        <!-- 페이지리스트 -->
				        {% for page_number in question_list.paginator.page_range %}
				        {% if page_number >= question_list.number|add:-5 and page_number <= question_list.number|add:5 %}
				        {% if page_number == question_list.number %}
				        <li class="page-item active" aria-current="page">
				            <a class="page-link" href="?{{sk}}{{search_key}}&page={{ page_number }}">{{ page_number }}</a>
				        </li>
				        {% else %}
				        <li class="page-item">
				            <a class="page-link" href="?{{sk}}{{search_key}}&page={{ page_number }}">{{ page_number }}</a>
				        </li>
				        {% endif %}
				        {% endif %}
				        {% endfor %}
				        <!-- 다음페이지 -->
				        {% if question_list.has_next %}
				        <li class="page-item">
				            <a class="page-link" href="?{{sk}}{{search_key}}&page={{ question_list.next_page_number }}">							
				            	<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-right" viewBox="0 0 16 16">
								<path d="M6 12.796V3.204L11.481 8 6 12.796zm.659.753 5.48-4.796a1 1 0 0 0 0-1.506L6.66 2.451C6.011 1.885 5 2.345 5 3.204v9.592a1 1 0 0 0 1.659.753z"/>
								</svg>
							</a>
				        </li>
				        {% else %}
				        <li class="page-item disabled">
				            <a class="page-link" tabindex="-1" aria-disabled="true" href="#">
				            	<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-right" viewBox="0 0 16 16">
								<path d="M6 12.796V3.204L11.481 8 6 12.796zm.659.753 5.48-4.796a1 1 0 0 0 0-1.506L6.66 2.451C6.011 1.885 5 2.345 5 3.204v9.592a1 1 0 0 0 1.659.753z"/>
								</svg>
				            </a>
				        </li>
				        {% endif %}
				    </ul>
				    <!-- 페이징처리 끝 -->
					</td>
				</tr>
			</div>
		</div>
	</main>
</body>
</html>